<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription École de Tennis - Azur Sports Valrose</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f0f0;
        }
        
        .form-container {
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header {
            background-color: #4472C4;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0 0 5px 0;
            font-size: 18px;
            font-weight: bold;
        }
        
        .header .subtitle {
            margin: 0;
            font-size: 14px;
        }
        
        .header .year {
            margin: 5px 0 0 0;
            font-size: 12px;
        }
        
        .content {
            padding: 20px;
        }
        
        .success-message {
            background-color: #d4f6d4;
            color: #2d5016;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .info-message {
            background-color: #cce7ff;
            color: #0066cc;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .section-title {
            font-weight: bold;
            margin: 20px 0 15px 0;
            color: #333;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .form-group {
            flex: 1;
            margin-bottom: 15px;
        }
        
        .form-group.full-width {
            width: 100%;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            color: #333;
        }
        
        .required {
            color: red;
        }
        
        input[type="text"], input[type="email"], input[type="tel"], input[type="date"], input[type="number"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        .courses-section {
            margin: 20px 0;
        }
        
        .course-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            padding: 5px 0;
        }
        
        .course-item input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .course-item label {
            margin: 0;
            cursor: pointer;
            flex: 1;
        }
        
        .course-price {
            color: #0066cc;
            font-weight: bold;
        }
        
        .total-section {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            border: 1px solid #ddd;
        }
        
        .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .total-row.final {
            font-weight: bold;
            font-size: 16px;
            border-top: 1px solid #ccc;
            padding-top: 10px;
        }
        
        .submit-btn {
            background-color: #4472C4;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            display: block;
            margin: 20px auto;
        }
        
        .submit-btn:hover {
            background-color: #365a9b;
        }
        
        .confirmation {
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 4px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }
        
        @media (max-width: 600px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <div class="form-container">
        <div class="header">
            <h1>FICHE D'INSCRIPTION ÉCOLE DE TENNIS</h1>
            <div class="subtitle">AZUR TENNIS SPORTS VALROSE</div>
            <div class="year">ANNÉE 2025-2026</div>
        </div>
        
        <div class="content">
            <div class="success-message" id="successMessage" style="display: none;">
                Inscription enregistrée avec succès !
            </div>
            
            <div class="info-message">
                Important : Les champs marqués d'un astérisque (*) sont obligatoires.
            </div>
            
            <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
            
            <form action="https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLgJiySi64e_zZghIaKxAtngUG3pmsUM2t4oimKuIDcxqPw54HNiAnAH9nuoeTZBIPQD0eQclgOWpGkzTDvwbugQfVZ8Qlb_YMLB7IF10GdhVVED6tVJKfDqfhFxclxrcgZLtsk7QqsQQRZCtbhTHAPdc0Va68Mj3qEE8l4O2BL3Zi7EbwMy-hmOEtVGHySkf_-7oEWSOLVllVkO2u2-rI7TL7l9FzGBddutHQkBakWU-arWduOY-waFOv81_kuRqYr5dHO1xxq6jxkUV38E0AD9wVB3Hw&lib=Mq4s7dPyw7u3LIue7k86XRMsccWcfLdwf" method="POST" target="hidden_iframe" onsubmit="showSuccessMessage(); return true;">
                
                <div class="section-title">Informations personnelles</div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="nom">Nom <span class="required">*</span></label>
                        <input type="text" id="nom" name="nom" required>
                    </div>
                    <div class="form-group">
                        <label for="prenom">Prénom <span class="required">*</span></label>
                        <input type="text" id="prenom" name="prenom" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="dateNaissance">Date de naissance <span class="required">*</span></label>
                        <input type="text" id="dateNaissance" name="dateNaissance" placeholder="jj/mm/aaaa" pattern="^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[0-2])/\d{4}$" required>
                    </div>
                    <div class="form-group">
                        <label for="adresse">Adresse</label>
                        <input type="text" id="adresse" name="adresse">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="codePostalVille">Code Postal et Ville</label>
                        <input type="text" id="codePostalVille" name="codePostalVille">
                    </div>
                    <div class="form-group">
                        <label for="telPort">Tél Port <span class="required">*</span></label>
                        <input type="tel" id="telPort" name="telPort" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="niveauTennis">Niveau tennis (couleur)</label>
                        <input type="text" id="niveauTennis" name="niveauTennis" placeholder="Ex: Orange, Vert...">
                    </div>
                    <div class="form-group">
                        <label for="mail">Email <span class="required">*</span></label>
                        <input type="email" id="mail" name="mail" required>
                    </div>
                </div>

                <div class="section-title">ÉCOLE TENNIS</div>
                
                <div class="courses-section">
                    <div class="course-item">
                        <input type="checkbox" id="babyTennis" name="babyTennis" value="240" data-label="BABY TENNIS (à partir de 3 ans) - 1h/semaine 240€">
                        <label for="babyTennis">BABY TENNIS (à partir de 3 ans) - <span class="course-price">1h/semaine 240€</span></label>
                    </div>
                    
                    <div class="course-item">
                        <input type="checkbox" id="miniTennis" name="miniTennis" value="250" data-label="MINI TENNIS (à partir de 5 ans) - 1h/semaine 250€">
                        <label for="miniTennis">MINI TENNIS (à partir de 5 ans) - <span class="course-price">1h/semaine 250€</span></label>
                    </div>
                    
                    <div class="course-item">
                        <input type="checkbox" id="initiation" name="initiation" value="260" data-label="INITIATION (à partir de 7 ans) - 1h/semaine 260€">
                        <label for="initiation">INITIATION (à partir de 7 ans) - <span class="course-price">1h/semaine 260€</span></label>
                    </div>
                    
                    <div class="course-item">
                        <input type="checkbox" id="perfectionnementTennis" name="perfectionnementTennis" value="350" data-label="PERFECTIONNEMENT (à partir de 7 ans) - 1h30/semaine 350€">
                        <label for="perfectionnementTennis">PERFECTIONNEMENT (à partir de 7 ans) - <span class="course-price">1h30/semaine 350€</span></label>
                    </div>
                    
                    <div class="course-item">
                        <input type="checkbox" id="centreEntrainement" name="centreEntrainement" value="720" data-label="CENTRE D'ENTRAÎNEMENT (à partir de 7 ans) - 2X 1h30/semaine 720€">
                        <label for="centreEntrainement">CENTRE D'ENTRAÎNEMENT (à partir de 7 ans) - <span class="course-price">2X 1h30/semaine 720€</span></label>
                    </div>
                    
                    <div class="course-item">
                        <input type="checkbox" id="coursAdultesTennis" name="coursAdultesTennis" value="520" data-label="COURS ADULTES (à partir de 18 ans) - 1h30/semaine 520€/an ou 180€/trimestre">
                        <label for="coursAdultesTennis">COURS ADULTES (à partir de 18 ans) - <span class="course-price">1h30/semaine 520€/an ou 180€/trimestre</span></label>
                    </div>
                </div>

                <div class="section-title">ÉCOLE PADEL</div>
                
                <div class="courses-section">
                    <div class="course-item">
                        <input type="checkbox" id="perfectionnementPadel" name="perfectionnementPadel" value="420" data-label="PERFECTIONNEMENT (à partir de 7 ans) - 1h30/semaine 420€">
                        <label for="perfectionnementPadel">PERFECTIONNEMENT (à partir de 7 ans) - <span class="course-price">1h30/semaine 420€</span></label>
                    </div>
                    
                    <div class="course-item">
                        <input type="checkbox" id="coursAdultesPadel" name="coursAdultesPadel" value="680" data-label="COURS ADULTES (à partir de 18 ans) - 1h30/semaine 680€ ou 240€/trimestre">
                        <label for="coursAdultesPadel">COURS ADULTES (à partir de 18 ans) - <span class="course-price">1h30/semaine 680€ ou 240€/trimestre</span></label>
                    </div>
                </div>

                <div class="section-title">ÉCOLE TENNIS PADEL</div>
                
                <div class="courses-section">
                    <div class="course-item">
                        <input type="checkbox" id="formuleMixte" name="formuleMixte" value="490" data-label="Formule mixte (à partir de 7 ans) - 1h30/semaine 490€">
                        <label for="formuleMixte">Formule mixte (à partir de 7 ans) - <span class="course-price">1h30/semaine 490€</span></label>
                    </div>
                </div>

                <div class="section-title">NOUVEAUTÉS</div>
                
                <div class="courses-section">
                    <div class="course-item">
                        <input type="checkbox" id="formuleDemiJournee" name="formuleDemiJournee" value="750" data-label="Formule demi-journée le mercredi matin 9h-12h ou après-midi 14h-17h 750€">
                        <label for="formuleDemiJournee">Formule demi-journée le mercredi matin 9h-12h ou après-midi 14h-17h <span class="course-price">750€</span></label>
                    </div>
                </div>

                <div class="section-title">DISPONIBILITÉS (par ordre de préférence)</div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="dispMercredi">Mercredi :</label>
                        <input type="text" id="dispMercredi" name="dispMercredi" placeholder="Ex: 14h-16h">
                    </div>
                    <div class="form-group">
                        <label for="dispSamedi">Samedi :</label>
                        <input type="text" id="dispSamedi" name="dispSamedi" placeholder="Ex: 10h-12h">
                    </div>
                </div>

                <div class="form-group">
                    <label for="dispSemaine">Semaine (à partir de 17h) :</label>
                    <input type="text" id="dispSemaine" name="dispSemaine" placeholder="Ex: Lundi, Mardi">
                </div>

                <div class="section-title">RÈGLEMENT</div>

                <div class="total-section">
                    <div class="total-row">
                        <span>Sous-total cours :</span>
                        <span id="sousTotal">0€</span>
                    </div>
                    <div class="total-row">
                        <span>Mode de paiement :</span>
                        <span>
                            <select id="modePaiement" name="modePaiement" style="border: 1px solid #ccc; padding: 5px; width: 200px;">
                                <option value="">Sélectionner...</option>
                                <option value="Chèque">Chèque</option>
                                <option value="Espèces">Espèces</option>
                                <option value="Virement">Virement</option>
                            </select>
                        </span>
                    </div>
                    <div class="total-row">
                        <span>Licence FFT obligatoire :</span>
                        <span>
                            <div style="display: flex; gap: 15px; align-items: center;">
                                <label style="display: flex; align-items: center; margin: 0;">
                                    <input type="radio" id="licenceNon" name="licenceFFT" value="0" checked style="margin-right: 5px;">
                                    Non (adulte)
                                </label>
                                <label style="display: flex; align-items: center; margin: 0;">
                                    <input type="radio" id="licence23" name="licenceFFT" value="23" style="margin-right: 5px;">
                                    23 euros
                                </label>
                                <label style="display: flex; align-items: center; margin: 0;">
                                    <input type="radio" id="licence13" name="licenceFFT" value="13" style="margin-right: 5px;">
                                    13 euros
                                </label>
                            </div>
                        </span>
                    </div>
                    <div class="total-row final">
                        <span>TOTAL À PAYER :</span>
                        <span id="totalAPayer">0€</span>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="montantPaye">Montant payé (€)</label>
                        <input type="number" id="montantPaye" name="montantPaye" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="resteAPayer">Reste à payer (€)</label>
                        <input type="number" id="resteAPayer" name="resteAPayer" step="0.01" min="0" readonly>
                    </div>
                </div>

                <!-- Champs cachés pour les totaux -->
                <input type="hidden" id="totalAPayerHidden" name="totalAPayer">
                <input type="hidden" id="coursChoisis" name="coursChoisis">

                <button type="submit" class="submit-btn">Envoyer l'inscription</button>
            </form>

            <div id="confirmation" class="confirmation">
                ✅ Inscription envoyée avec succès !
            </div>
        </div>
    </div>

    <script>
        // Formatage automatique de la date
        document.getElementById('dateNaissance').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, ''); // Enlever tout ce qui n'est pas un chiffre
            let formattedValue = '';
            
            if (value.length > 0) {
                formattedValue = value.substring(0, 2);
            }
            if (value.length > 2) {
                formattedValue += '/' + value.substring(2, 4);
            }
            if (value.length > 4) {
                formattedValue += '/' + value.substring(4, 8);
            }
            
            e.target.value = formattedValue;
        });

        function updateTotal() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"][value]');
            const licenceFFTSelected = document.querySelector('input[name="licenceFFT"]:checked');
            const licenceFFT = licenceFFTSelected ? parseInt(licenceFFTSelected.value) : 0;
            
            let sousTotal = 0;
            let coursChoisis = [];
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    sousTotal += parseInt(checkbox.value);
                    coursChoisis.push(checkbox.dataset.label);
                }
            });
            
            const total = sousTotal + licenceFFT;
            
            document.getElementById('sousTotal').textContent = sousTotal + '€';
            document.getElementById('totalAPayer').textContent = total + '€';
            document.getElementById('totalAPayerHidden').value = total;
            document.getElementById('coursChoisis').value = coursChoisis.join('; ');
            
            calculateReste();
        }

        function calculateReste() {
            const total = parseInt(document.getElementById('totalAPayer').textContent) || 0;
            const paye = parseFloat(document.getElementById('montantPaye').value) || 0;
            const reste = Math.max(0, total - paye);
            document.getElementById('resteAPayer').value = reste.toFixed(2);
        }

        function showSuccessMessage() {
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('confirmation').style.display = 'block';
            // Scroll to top to show the success message
            document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
        }

        // Event listeners
        document.querySelectorAll('input[type="checkbox"][value]').forEach(checkbox => {
            checkbox.addEventListener('change', updateTotal);
        });

        document.getElementById('licenceFFT').addEventListener('change', updateTotal);
        document.getElementById('montantPaye').addEventListener('input', calculateReste);

        // Initialisation
        updateTotal();
    </script>
</body>
</html>
